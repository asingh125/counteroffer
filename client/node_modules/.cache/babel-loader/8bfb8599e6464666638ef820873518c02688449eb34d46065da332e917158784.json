{"ast":null,"code":"'use strict';\n\nvar defer = require('./').defer;\n/**\n * This is a pair of Deferreds that are set whenever local media is muted and\n * resolved whenever local media is unmuted/ended and restarted if necessary.\n */\nvar LocalMediaRestartDeferreds = /** @class */function () {\n  /**\n   * Constructor.\n   */\n  function LocalMediaRestartDeferreds() {\n    Object.defineProperties(this, {\n      _audio: {\n        value: defer(),\n        writable: true\n      },\n      _video: {\n        value: defer(),\n        writable: true\n      }\n    });\n    // Initially, resolve both the Deferreds.\n    this._audio.resolve();\n    this._video.resolve();\n  }\n  /**\n   * Resolve the Deferred for audio or video.\n   * @param {'audio'|'video'} kind\n   */\n  LocalMediaRestartDeferreds.prototype.resolveDeferred = function (kind) {\n    if (kind === 'audio') {\n      this._audio.resolve();\n    } else {\n      this._video.resolve();\n    }\n  };\n  /**\n   * Start the Deferred for audio or video.\n   * @param {'audio' | 'video'} kind\n   */\n  LocalMediaRestartDeferreds.prototype.startDeferred = function (kind) {\n    if (kind === 'audio') {\n      this._audio = defer();\n    } else {\n      this._video = defer();\n    }\n  };\n  /**\n   * Wait until the Deferred for audio or video is resolved.\n   * @param {'audio'|'video'} kind\n   * @returns {Promise<void>}\n   */\n  LocalMediaRestartDeferreds.prototype.whenResolved = function (kind) {\n    return kind === 'audio' ? this._audio.promise : this._video.promise;\n  };\n  return LocalMediaRestartDeferreds;\n}();\nmodule.exports = new LocalMediaRestartDeferreds();","map":{"version":3,"mappings":"AAAA,YAAY;;AAEJ,SAAK,GAAKA,OAAO,CAAC,IAAI,CAAC,MAAlB;AAEb;;;;AAIA;EACE;;;EAGA;IACEC,MAAM,CAACC,gBAAgB,CAAC,IAAI,EAAE;MAC5BC,MAAM,EAAE;QACNC,KAAK,EAAEC,KAAK,EAAE;QACdC,QAAQ,EAAE;OACX;MACDC,MAAM,EAAE;QACNH,KAAK,EAAEC,KAAK,EAAE;QACdC,QAAQ,EAAE;;KAEb,CAAC;IAEF;IACA,IAAI,CAACH,MAAM,CAACK,OAAO,EAAE;IACrB,IAAI,CAACD,MAAM,CAACC,OAAO,EAAE;EACvB;EAEA;;;;EAIAC,oDAAe,GAAf,UAAgBC,IAAI;IAClB,IAAIA,IAAI,KAAK,OAAO,EAAE;MACpB,IAAI,CAACP,MAAM,CAACK,OAAO,EAAE;KACtB,MAAM;MACL,IAAI,CAACD,MAAM,CAACC,OAAO,EAAE;;EAEzB,CAAC;EAED;;;;EAIAC,kDAAa,GAAb,UAAcC,IAAI;IAChB,IAAIA,IAAI,KAAK,OAAO,EAAE;MACpB,IAAI,CAACP,MAAM,GAAGE,KAAK,EAAE;KACtB,MAAM;MACL,IAAI,CAACE,MAAM,GAAGF,KAAK,EAAE;;EAEzB,CAAC;EAED;;;;;EAKAI,iDAAY,GAAZ,UAAaC,IAAI;IACf,OAAOA,IAAI,KAAK,OAAO,GAAG,IAAI,CAACP,MAAM,CAACQ,OAAO,GAAG,IAAI,CAACJ,MAAM,CAACI,OAAO;EACrE,CAAC;EACH,iCAAC;AAAD,CAAC,EArDD;AAuDAC,MAAM,CAACC,OAAO,GAAG,IAAIJ,0BAA0B,EAAE","names":["require","Object","defineProperties","_audio","value","defer","writable","_video","resolve","LocalMediaRestartDeferreds","kind","promise","module","exports"],"sources":["/Users/aarushisingh/Projects/counteroffer/client/node_modules/twilio-video/lib/util/localmediarestartdeferreds.js"],"sourcesContent":["'use strict';\n\nconst { defer } = require('./');\n\n/**\n * This is a pair of Deferreds that are set whenever local media is muted and\n * resolved whenever local media is unmuted/ended and restarted if necessary.\n */\nclass LocalMediaRestartDeferreds {\n  /**\n   * Constructor.\n   */\n  constructor() {\n    Object.defineProperties(this, {\n      _audio: {\n        value: defer(),\n        writable: true\n      },\n      _video: {\n        value: defer(),\n        writable: true\n      }\n    });\n\n    // Initially, resolve both the Deferreds.\n    this._audio.resolve();\n    this._video.resolve();\n  }\n\n  /**\n   * Resolve the Deferred for audio or video.\n   * @param {'audio'|'video'} kind\n   */\n  resolveDeferred(kind) {\n    if (kind === 'audio') {\n      this._audio.resolve();\n    } else {\n      this._video.resolve();\n    }\n  }\n\n  /**\n   * Start the Deferred for audio or video.\n   * @param {'audio' | 'video'} kind\n   */\n  startDeferred(kind) {\n    if (kind === 'audio') {\n      this._audio = defer();\n    } else {\n      this._video = defer();\n    }\n  }\n\n  /**\n   * Wait until the Deferred for audio or video is resolved.\n   * @param {'audio'|'video'} kind\n   * @returns {Promise<void>}\n   */\n  whenResolved(kind) {\n    return kind === 'audio' ? this._audio.promise : this._video.promise;\n  }\n}\n\nmodule.exports = new LocalMediaRestartDeferreds();\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}